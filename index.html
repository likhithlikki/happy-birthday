<!DOCTYPE html>
<html lang="en">
<head>
 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HARSHI_chinni</title>
    <link rel="stylesheet"  href="style.css">
    <script src="script.js"></script>

</head>
<body>
  <div class="scrolling-text-container">
    <div class="scrolling-text">Happy Birthday Harshiii</div>
  </div>
  
  <div class="container" style="opacity: 100%;">
    <header>
        <h1>Many more  happy returns of the day ðŸŽˆðŸŽ‰ðŸŽŠðŸ¥³ðŸ¥³ <span id="girlfriendName">HARSHITHA!!!</span>!</h1>
    </header>
    
    <main>
        <p>You are the light of my life, and on this special day, I want to express my love for you ðŸ¥°.</p>
    </main>
</div>
<div class="audio_container" style="opacity: 100%;" >
<audio id="audioPlayer"  controls autoplay>
    <source src="wannabe yours.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

</div>
<div>
<select id="songSelect" onchange="playSelectedSong()">
  <option value="wannabe yours.mp3">Song 1</option>
  <option value="infinity_slowed.mp3">Song 2</option>
  <option value="nethone.mp3">Song 3</option>
  <option value="padi padileche manasu.mp3">Song 4</option>
</select>
</div>
<br><div>
<div class="envelope">
  <div class="back"></div>
  <div class="letter">
    <div class="heart"></div>
    <div class="text">
      <p>
        I want to say <br />
        many things but, <br />
        i can't express so i <br />
        made this for you
      </p>
 
    </div>
  </div>
  <div class="front"></div>
  <div class="top"></div>
  <div class="shadow"></div>
  <div class="text1">
    <h2 style="align-items: center;justify-content:center;">Hey! Listen I Have Something For You</h2>
  </div>
</div>
    <script src="script.js"></script>
    <br><br><br><br>
    <button >close the letter</button>
  </div>
<h3>My world <br>Just kidding ðŸ« </h3>
  <div class="container1">
    <div class="image-container1">
      <img src="img144.png" id="image" alt="Image">
    </div>
    <div class="selector-container1">
      <select id="resolution" onchange="changeImage()">
        <option value="img144.png" style="background-color: rgb(51, 225, 7);">144p</option>
        <option value="img240.png" style="background-color: #8594e4;">240p</option>
        <option value="img360.png" style="background-color:#6643b5;">360p</option>
        <option value="imghd.jpg" style="background-color: #430f58;">1080p</option>
    
      </select>
    </div>
  
  <div class="video-container">
    <video id="video1" src="./bday-wish.mp4" muted loop></video>
    <video id="video2" src="./A Masterpiece.mp4" muted></video>
    <video id="video3" src="./Hâ¤.mp4" muted></video>
    <video id="video4" src="./fav_person.mp4" muted></video>
    <video id="video5" src="./lyrics.mp4" muted></video>






  <script>
    var audioPlayer = document.getElementById("audioPlayer");
    var songSelect = document.getElementById("songSelect");
    const videos = document.querySelectorAll('video');

  function playSelectedSong() {
      // Get the selected audio element
      const selectedAudio = document.getElementById('audioPlayer');
      const selectedSong = document.getElementById('songSelect').value;
  
      // Pause all other audio elements
      pauseAllExcept(selectedAudio);
  
      // Set the source of the selected audio element to the chosen song
      selectedAudio.src = selectedSong;
  
      // Play the selected song
      selectedAudio.play();
    
  }
  function pauseAllExcept(selectedAudio) {
    const allAudio = document.querySelectorAll('audio');
    allAudio.forEach(audio => {
        if (audio !== selectedAudio) {
            audio.pause();
        }
    });
}


    function isElementInViewport(el) {
        const rect = el.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
        );
    }

    function resetAndPlayVideo(video) {
        video.currentTime = 0; // Reset to the beginning
        video.muted = false;    // Unmute
        video.play(); 
        audioPlayer.pause();          // Start playing
    }

    function playNextVideo() {
        const currentVideoIndex = Array.from(videos).findIndex(video => !video.paused);
        if (currentVideoIndex !== -1 && currentVideoIndex < videos.length - 1) {
            videos[currentVideoIndex].pause();
            resetAndPlayVideo(videos[currentVideoIndex + 1]);
            videos[currentVideoIndex + 1].scrollIntoView({ behavior: 'smooth' });
        }
    }

    function playVideoInView() {
        videos.forEach(video => {
            if (isElementInViewport(video)) {
                resetAndPlayVideo(video);
            } else {
                video.pause();
                video.muted
            }
        });
    }

    window.addEventListener('scroll', playVideoInView);
    window.addEventListener('resize', playVideoInView);

    // Listen for the 'ended' event on each video
    videos.forEach(video => {
        video.addEventListener('ended', playNextVideo);
    });

    // Initial check
    playVideoInView();
</script>

</div>
</body>
</html>
